version: '3.7'

services:
  grafana:
    build:
      context: grafana
      dockerfile: Dockerfile
      args:
        GRAFANA_VERSION: 8.0.7
        GF_INSTALL_PLUGINS: https://github.com/knightss27/grafana-network-weathermap/releases/download/v0.2.2/knightss27-weathermap-panel-0.2.3zip;network-weathermap
    ports:
      - 3000:3000
  prometheus:
    image: prom/prometheus
    volumes:
      - .\exporter\prometheus.yml:/etc/prometheus/prometheus.yml
    ports:
      - 9090:9090
  exporter:
    build:
      context: exporter
      dockerfile: Dockerfile
